<p *ngIf="!taskItems" style="margin-top: 10rem;"><em>Tasks is loading...</em></p>


<a href="javascript:;" (click)="addTask()"><i class="fa fa-plus"></i> Add Task</a>

<table class='table' *ngIf="taskItems" style="margin-top: 10rem;">
  <thead>
    <tr>
      <th>ID</th>
      <th>Task</th>
      <th>Task Done</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let task of taskItems">
      <td>{{ task.id }}</td>
      <td class="{{task.isDone ? 'completed' : '' }}">{{ task.task }}</td>
      <td>{{ task.isDone }}</td>
      <td>
        <a *ngIf="!task.isDone" [routerLink]="" (click)="taskDone(task.id)">Done</a> |
        <a [routerLink]="" (click)="delete(task.id)">Delete</a> |
        <a [routerLink]="" (click)="assignTask(task.id, 1)">Assign Task</a>
      </td>
    </tr>
  </tbody>
</table>

<div class="modal fade" bsModal #editorModal="bs-modal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title pull-left"><i class="fa fa-tasks"></i> {{'todoDemo.editor.NewTask' | translate}}</h4>
        <button type="button" class="close pull-right" title="Close" (click)="editorModal.hide()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form *ngIf="formResetToggle" class="form-horizontal" name="taskEditorForm" #f="ngForm" novalidate
              (ngSubmit)="f.form.valid ? save() :
                      (!task.valid && showErrorAlert('Task name is required', 'Please enter a name for the task'));">

          <div class="form-group has-feedback">
            <label class="control-label col-md-2" for="task">Task:</label>
            <div class="col-md-10" [ngClass]="{'has-success': f.submitted && task.valid, 'has-error' : f.submitted && !task.valid}">
              <input autofocus type="text" id="task" name="task" placeholder="Enter task name" class="form-control" [(ngModel)]="taskEdit.name" #task="ngModel" required />
              <span *ngIf="f.submitted" class="glyphicon form-control-feedback" [ngClass]="{'glyphicon-ok ':task.valid, 'glyphicon-remove' : !task.valid}"></span>
              <span *ngIf="f.submitted && !task.valid" class="errorMessage">
                task required
              </span>
            </div>
          </div>


          <label class="control-label col-md-2"> </label>
          <div class="col-md-7">
            <div class="checkbox">
              <label>
                <input name="isDone" type="checkbox" [(ngModel)]="taskEdit.done">
                Done
              </label>
            </div>
          </div>
          <div class="col-md-12">
            <hr class="edit-last-separator-hr" />
          </div>

          <div class="form-group actionBtn-form-group">
            <div class="pull-right">
              <button type="submit" class="btn btn-primary">Add Task</button>
            </div>
          </div>
          <div class="clearfix"></div>
        </form>
      </div>
    </div>
  </div>
</div>
